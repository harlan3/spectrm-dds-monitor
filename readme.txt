Spectrum DDS Monitor - Orbis Software
-------------------------------------
Spectrum DDS Monitor is a Java application developed for use with the
community edition of the OpenSplice DDS framework.  It provides the capability 
to inspect and debug DDS samples generated by active publishers for subscribed
topics.  Sample data can also be injected, modified and published into the DDS 
network without the need for an external publisher.  The tool supports the 
optional generation of log files containing DDS sample data represented in XML
or CSV files, which is useful for import into Open Office Calc or Microsoft 
Excel for analysis.

License
-------
Spectrum DDS Monitor is licensed under the GNU GPL 3.0.

Source code is available from the Subversion repository at the project's
homepage:
    http://code.google.com/p/spectrum-dds-monitor/

Setup
-----
A Java Runtime and OpenSplice DDS must be installed with the OSPL_HOME 
environment variable set.  The Spectrum DDS Monitor and Solar System demo 
compile using Ant, allowing them both to be built and executed on both the 
Linux and Windows operating systems. 

Python and the xmllint tool are required to support the formatting of XML log 
files.  Python is also required to generate csv files for importing into a
spreadsheet.

There are two separate eclipse projects that should be imported into the 
eclipse workspace.  From eclipse, select File->Import and choose to import an 
existing project, for both the spectrum-eclipse-ws folder and the 
solarsystem-eclipse-ws folder.

spectrum-eclipse-ws is the directory containing the dds monitor application.

solarsystem-eclipse-ws is a test application that publishes dds data that is
viewable by the spectrum dds monitor.

Building and running the Spectrum DDS Monitor
---------------------------------------------

    Linux Specific
    --------------
    ospl start (if OpenSplice is not currently running)
    cd spectrum-dds-monitor/solarsystem-eclipse-ws
    ant (only required if building from repository)
    ./solar_system &
    cd spectrum-dds-monitor/spectrum-eclipse-ws
    ant
    ./spectrum
    
    Windows Specific
    ----------------
    In 1st command shell:
    {OSPL_INSTALL_DIRECTORY}\HDE\x86.win32\release.bat
    ospl start (if OpenSplice is not currently running)
    cd spectrum-dds-monitor\solarsystem-eclipse-ws
    ant (only required if building from repository)
    solar_system.cmd
    
    In 2nd command shell:
    {OSPL_INSTALL_DIRECTORY}\HDE\x86.win32\release.bat    
    cd spectrum-dds-monitor\spectrum-eclipse-ws
    ant (only required if building from repository)
    spectrum.cmd    

Select the SolarSystem Topic from the Topic Subscriber GUI and click subscribe.

Navigate the data structure to see live updates published by the Solar System
demo.

To publish data, unselect the auto update button.  Modify a data cell and click 
Publish.

New DDS samples can also be injected into the DDS network and arrays 
dynamically resized.  Note that topic keys must be unique prior to publishing 
the new sample data or the additions will be dropped by the middleware.

Capture Modes
-------------

The capture mode defines the method that the DDS monitor tool uses to capture 
DDS sample data.

"Active Polling for Samples" takes a snapshot of sample data at a regular 
interval (defaults to every 250 ms).

"Blocking Wait for Samples" takes a snapshot of sample data whenever new data is 
published.  This mode is recommended when data logging is enabled, which logs 
sample data to an XML file.  

Logging XML Session Data
------------------------
Verify that the capture mode is set to "Blocking Wait for Samples".

After the DDS sample data has been captured, the xml_formatter script can be
used to format all the sample XML files in the log session, making them easier 
to view.  

The xml_formatter script requires the xmllint tool to be available that 
performs the actual XML formatting task.

From a console window type:
    cd spectrum-dds-monitor/spectrum-eclipse-ws
    ./xml_formatter all
    
CSV files can also be generated by the xml_to_csv tool which can then be 
imported into OpenOffice Calc or Microsoft Excel.

From a console window type:
    cd spectrum-dds-monitor/spectrum-eclipse-ws
    ./xml_to_csv all

Configuring for use with a custom data model
--------------------------------------------
Create a jar file containing the classes generated by the DDS IDL compiler, and
add the jar file to the project build path in eclipse and to the classpath in 
the spectrum execution script.

URIs referencing the DDS Topic and DDS Data Types must then be added to the
URI_Manifest.txt. 

URIs are in the format:
/{Partition}/{Topic}/{Data Type}
